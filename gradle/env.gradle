def envFile = rootProject.file('.env')
def env = new Properties()
if (envFile.exists()) {
    envFile.withInputStream { env.load(it) }
}

def keys = [
    'FIREBASE_API_KEY',
    'FIREBASE_AUTH_DOMAIN',
    'FIREBASE_PROJECT_ID',
    'FIREBASE_STORAGE_BUCKET',
    'FIREBASE_MESSAGING_SENDER_ID',
    'FIREBASE_APP_ID',
    'FIREBASE_MEASUREMENT_ID',
    'API_BASE_URL'
]

android {
    defaultConfig {
        keys.each { key ->
            def value = env.getProperty(key, '')
            buildConfigField 'String', key, '"' + value + '"'
        }
    }
}
